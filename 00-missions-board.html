<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üßµ ThreadCast - Missions Board</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --thread-primary: #6366F1;
            --thread-secondary: #8B5CF6;
            --thread-accent: #EC4899;
            --thread-woven: #22C55E;
            --thread-threading: #F59E0B;
            --thread-tangled: #EF4444;
            --thread-pending: #6B7280;

            --bg-primary: #ffffff;
            --bg-secondary: #f9fafb;
            --bg-tertiary: #f3f4f6;
            --border-color: #e5e7eb;
            --text-primary: #111827;
            --text-secondary: #6b7280;
            --text-tertiary: #9ca3af;

            --sidebar-width: 300px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', sans-serif;
            background: var(--bg-secondary);
            color: var(--text-primary);
            overflow: hidden;
        }

        /* Text overflow fix for all cards */
        .mission-card,
        .question-card,
        .timeline-content {
            word-break: break-word;
            overflow-wrap: break-word;
        }

        .mission-card *,
        .question-card *,
        .questions-panel * {
            word-break: break-word;
            overflow-wrap: break-word;
        }

        .app-container {
            display: flex;
            height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: var(--sidebar-width);
            background: var(--bg-primary);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .sidebar-header {
            padding: 16px 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 18px;
            font-weight: 600;
            color: var(--thread-primary);
        }

        .workspace-selector {
            margin-top: 12px;
            padding: 8px 12px;
            background: var(--bg-tertiary);
            border-radius: 6px;
            font-size: 13px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
        }

        .workspace-selector:hover {
            background: var(--border-color);
        }

        .sidebar-nav {
            padding: 16px 12px;
        }

        .nav-item {
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 2px;
            transition: all 0.15s;
        }

        .nav-item:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .nav-item.active {
            background: var(--thread-primary);
            color: white;
        }

        .sidebar-section {
            padding: 16px 12px;
            border-top: 1px solid var(--border-color);
        }

        .section-title {
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            color: var(--text-tertiary);
            letter-spacing: 0.5px;
            padding: 0 8px 8px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            padding: 0 8px;
        }

        .stat-card {
            background: var(--bg-secondary);
            border-radius: 6px;
            padding: 10px 8px;
            text-align: center;
        }

        .stat-value {
            font-size: 18px;
            font-weight: 700;
            color: var(--thread-primary);
        }

        .stat-label {
            font-size: 10px;
            color: var(--text-secondary);
            margin-top: 2px;
        }

        .create-mission-btn {
            margin: 8px 12px;
            padding: 8px 12px;
            background: var(--thread-primary);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            transition: all 0.2s;
        }

        .create-mission-btn:hover {
            background: var(--thread-secondary);
            transform: translateY(-1px);
        }

        /* Main Content */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* Top Bar */
        .top-bar {
            height: 56px;
            background: var(--bg-primary);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            padding: 0 24px;
            justify-content: space-between;
        }

        .top-bar-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .view-title {
            font-size: 18px;
            font-weight: 600;
        }

        .view-switcher {
            display: flex;
            background: var(--bg-tertiary);
            border-radius: 6px;
            padding: 2px;
        }

        .view-btn {
            padding: 6px 12px;
            border: none;
            background: transparent;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            color: var(--text-secondary);
            transition: all 0.2s;
        }

        .view-btn.active {
            background: white;
            color: var(--thread-primary);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .top-bar-actions {
            display: flex;
            gap: 8px;
        }

        .icon-btn {
            width: 32px;
            height: 32px;
            border: none;
            background: transparent;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            transition: all 0.15s;
        }

        .icon-btn:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        /* Board Area */
        .board-area {
            flex: 1;
            overflow-x: auto;
            overflow-y: hidden;
            padding: 24px;
        }

        .board-columns {
            display: flex;
            gap: 16px;
            height: 100%;
            min-width: min-content;
        }

        .board-column {
            width: 340px;
            min-width: 300px;
            background: var(--bg-primary);
            border-radius: 8px;
            border: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
        }

        @media (max-width: 1200px) {
            .board-column {
                width: 300px;
                min-width: 280px;
            }
        }

        .column-header {
            padding: 16px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .column-title {
            font-size: 13px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .column-count {
            background: var(--bg-tertiary);
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 11px;
            color: var(--text-secondary);
        }

        .column-content {
            flex: 1;
            overflow-y: auto;
            padding: 12px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        /* Mission Card */
        .mission-card {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .mission-card:hover {
            border-color: var(--thread-primary);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.15);
            transform: translateY(-2px);
        }

        .mission-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .mission-id {
            font-size: 11px;
            color: var(--text-tertiary);
            font-weight: 600;
        }

        .mission-status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .mission-status-dot.pending { background: var(--thread-pending); }
        .mission-status-dot.threading { background: var(--thread-threading); animation: pulse 2s infinite; }
        .mission-status-dot.woven { background: var(--thread-woven); }
        .mission-status-dot.tangled { background: var(--thread-tangled); }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Drag and Drop Styles */
        .mission-card {
            cursor: grab;
        }

        .mission-card:active {
            cursor: grabbing;
        }

        .mission-card.dragging {
            opacity: 0.5;
            transform: rotate(2deg);
        }

        .column-content.drag-over {
            background: rgba(99, 102, 241, 0.1);
            border: 2px dashed var(--thread-primary);
            border-radius: 8px;
        }

        /* Questions Panel (Left Slide) */
        .questions-panel {
            position: fixed;
            top: 0;
            left: -420px;
            width: 420px;
            height: 100vh;
            background: var(--bg-primary);
            box-shadow: 4px 0 12px rgba(0, 0, 0, 0.1);
            transition: left 0.3s ease;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .questions-panel .question-card {
            max-width: 100%;
        }

        .questions-panel .question-card * {
            max-width: 100%;
        }

        /* Ensure text in question cards wraps properly */
        .question-card [style*="font-size"],
        .questions-panel div {
            word-break: keep-all;
            overflow-wrap: break-word;
        }

        .question-body {
            word-break: keep-all;
            overflow-wrap: break-word;
        }

        .question-body div {
            word-break: keep-all;
            overflow-wrap: break-word;
        }

        .questions-panel.active {
            left: 0;
        }

        .questions-panel-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            z-index: 999;
        }

        .questions-panel-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        .progress-section {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 16px;
            margin-top: 16px;
        }

        .progress-label {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .progress-bar-container {
            height: 8px;
            background: var(--bg-tertiary);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 12px;
        }

        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--thread-threading), var(--thread-woven));
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 20px;
            font-weight: 700;
            color: var(--thread-primary);
        }

        .stat-label {
            font-size: 10px;
            color: var(--text-secondary);
            margin-top: 4px;
            text-transform: uppercase;
        }

        .section-title {
            font-size: 13px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-secondary);
            margin-bottom: 12px;
        }

        .todo-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .todo-item {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 12px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid transparent;
        }

        .todo-item:hover {
            border-color: var(--thread-primary);
            background: white;
            transform: translateX(4px);
        }

        .todo-item-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 6px;
        }

        .todo-item-left {
            display: flex;
            align-items: center;
            gap: 8px;
            flex: 1;
        }

        .todo-status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .todo-status-dot.pending { background: var(--text-tertiary); }
        .todo-status-dot.threading { background: var(--thread-threading); }
        .todo-status-dot.woven { background: var(--thread-woven); }

        .todo-item-id {
            font-size: 11px;
            color: var(--text-tertiary);
            font-weight: 600;
        }

        .todo-item-title {
            font-size: 14px;
            font-weight: 500;
            flex: 1;
        }

        .todo-item-meta {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 11px;
            color: var(--text-secondary);
        }

        .complexity-badge {
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 9px;
        }

        .complexity-badge.low {
            background: #D1FAE5;
            color: #065F46;
        }

        .complexity-badge.medium {
            background: #FEF3C7;
            color: #92400E;
        }

        .complexity-badge.high {
            background: #FEE2E2;
            color: #991B1B;
        }

        .modal-footer-hint {
            font-size: 12px;
            color: var(--text-tertiary);
        }

        .modal-footer-actions {
            display: flex;
            gap: 8px;
        }

        .modal-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .modal-btn-primary {
            background: var(--thread-primary);
            color: white;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .modal-btn-primary:hover {
            background: var(--thread-secondary);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }

        .tags {
            display: flex;
            gap: 6px;
            margin-top: 12px;
            flex-wrap: wrap;
        }

        .tag {
            background: var(--bg-tertiary);
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            color: var(--text-secondary);
        }

        .mission-title {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-primary);
            line-height: 1.4;
            margin-bottom: 8px;
            word-break: keep-all;
            overflow-wrap: break-word;
        }

        .mission-description {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: 12px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            word-break: keep-all;
            overflow-wrap: break-word;
        }

        .mission-progress {
            margin-bottom: 10px;
        }

        .progress-bar-container {
            height: 6px;
            background: var(--bg-tertiary);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 6px;
        }

        .progress-bar-fill {
            height: 100%;
            background: var(--thread-woven);
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .progress-bar-fill.threading {
            background: linear-gradient(90deg, var(--thread-threading), var(--thread-woven));
        }

        .progress-text {
            font-size: 11px;
            color: var(--text-secondary);
            display: flex;
            justify-content: space-between;
        }

        .mission-meta {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 12px;
            color: var(--text-secondary);
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .mission-tags {
            display: flex;
            gap: 4px;
            margin-top: 8px;
            flex-wrap: wrap;
        }

        .tag {
            background: var(--bg-tertiary);
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: 500;
            color: var(--text-secondary);
        }

        .tag.priority-high {
            background: #FEE2E2;
            color: #991B1B;
        }

        /* Empty State */
        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 48px;
            text-align: center;
            color: var(--text-tertiary);
        }

        .empty-state-icon {
            font-size: 48px;
            margin-bottom: 16px;
            opacity: 0.5;
        }

        .empty-state-text {
            font-size: 14px;
        }

        /* Mission Summary Modal */
        .mission-summary-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 998;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 24px;
        }

        .mission-summary-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        .mission-summary-modal {
            background: var(--bg-primary);
            border-radius: 12px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            max-width: 700px;
            width: 100%;
            max-height: 85vh;
            display: flex;
            flex-direction: column;
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }

        .mission-summary-overlay.active .mission-summary-modal {
            transform: translateY(0);
        }

        .modal-header {
            padding: 24px 24px 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .header-top {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .modal-mission-id {
            font-size: 12px;
            color: var(--text-tertiary);
            font-weight: 600;
            margin-bottom: 8px;
        }

        .modal-mission-title {
            font-size: 24px;
            font-weight: 600;
            line-height: 1.3;
            margin-bottom: 12px;
        }

        .modal-mission-description {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .status-badge.threading {
            background: rgba(245, 158, 11, 0.1);
            color: var(--thread-threading);
        }

        .modal-close-btn {
            width: 32px;
            height: 32px;
            border: none;
            background: transparent;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            font-size: 18px;
        }

        .modal-close-btn:hover {
            background: var(--bg-tertiary);
        }

        .modal-progress-section {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 16px;
            margin-top: 16px;
        }

        .modal-progress-label {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .modal-progress-bar-container {
            height: 8px;
            background: var(--bg-tertiary);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 12px;
        }

        .modal-progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--thread-threading), var(--thread-woven));
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .modal-stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
        }

        .modal-stat-item {
            text-align: center;
        }

        .modal-stat-value {
            font-size: 20px;
            font-weight: 700;
            color: var(--thread-primary);
        }

        .modal-stat-label {
            font-size: 10px;
            color: var(--text-secondary);
            margin-top: 4px;
            text-transform: uppercase;
        }

        .modal-body {
            padding: 20px 24px;
            overflow-y: auto;
            flex: 1;
        }

        .modal-section-title {
            font-size: 13px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-secondary);
            margin-bottom: 12px;
        }

        .modal-todo-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .modal-todo-item {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 12px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid transparent;
        }

        .modal-todo-item:hover {
            border-color: var(--thread-primary);
            background: white;
            transform: translateX(4px);
        }

        .modal-todo-item.threading {
            border-color: var(--thread-threading);
            background: white;
        }

        .modal-todo-item-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 6px;
        }

        .modal-todo-item-left {
            display: flex;
            align-items: center;
            gap: 8px;
            flex: 1;
        }

        .modal-todo-status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .modal-todo-status-dot.pending { background: var(--thread-pending); }
        .modal-todo-status-dot.threading { background: var(--thread-threading); }
        .modal-todo-status-dot.woven { background: var(--thread-woven); }

        .modal-todo-item-id {
            font-size: 11px;
            color: var(--text-tertiary);
            font-weight: 600;
        }

        .modal-todo-item-title {
            font-size: 14px;
            font-weight: 500;
            flex: 1;
        }

        .modal-todo-item-meta {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 11px;
            color: var(--text-secondary);
        }

        .modal-complexity-badge {
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 9px;
        }

        .modal-complexity-badge.low {
            background: #D1FAE5;
            color: #065F46;
        }

        .modal-complexity-badge.medium {
            background: #FEF3C7;
            color: #92400E;
        }

        .modal-complexity-badge.high {
            background: #FEE2E2;
            color: #991B1B;
        }

        .modal-footer {
            padding: 16px 24px;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-footer-hint {
            font-size: 12px;
            color: var(--text-tertiary);
        }

        .modal-footer-actions {
            display: flex;
            gap: 8px;
        }

        .modal-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .modal-btn-primary {
            background: var(--thread-primary);
            color: white;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .modal-btn-primary:hover {
            background: var(--thread-secondary);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }

        .modal-tags {
            display: flex;
            gap: 6px;
            margin-top: 12px;
            flex-wrap: wrap;
        }

        .modal-tag {
            background: var(--bg-tertiary);
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            color: var(--text-secondary);
        }

        /* Create Mission Modal */
        .create-mission-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 24px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .create-mission-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        .create-mission-modal {
            background: var(--bg-primary);
            border-radius: 12px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 100%;
            max-height: 85vh;
            display: flex;
            flex-direction: column;
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }

        .create-mission-overlay.active .create-mission-modal {
            transform: translateY(0);
        }

        .create-mission-modal .modal-header {
            padding: 24px 24px 16px;
            border-bottom: 1px solid var(--border-color);
            flex-shrink: 0;
        }

        .create-mission-modal .modal-body {
            padding: 20px 24px;
            overflow-y: auto;
            flex: 1;
        }

        .create-mission-modal .modal-footer {
            padding: 16px 24px;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
        }

        .create-mission-modal .footer-hint {
            font-size: 12px;
            color: var(--text-tertiary);
        }

        .create-mission-modal .footer-actions {
            display: flex;
            gap: 8px;
        }

        .create-mission-modal .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .create-mission-modal .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .create-mission-modal .btn-secondary:hover {
            background: var(--border-color);
        }

        .create-mission-modal .btn-primary {
            background: var(--thread-primary);
            color: white;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .create-mission-modal .btn-primary:hover {
            background: var(--thread-secondary);
        }

        .create-modal-title {
            font-size: 20px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }

        .create-modal-subtitle {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 13px;
            font-weight: 500;
            margin-bottom: 8px;
            color: var(--text-primary);
        }

        .form-input {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
            transition: all 0.2s;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--thread-primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-hint {
            font-size: 12px;
            color: var(--text-tertiary);
            margin-top: 6px;
        }

        .project-selector {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
        }

        .project-option {
            flex: 1;
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            transition: all 0.2s;
        }

        .project-option:hover {
            border-color: var(--thread-primary);
            background: rgba(99, 102, 241, 0.05);
        }

        .project-option.selected {
            border-color: var(--thread-primary);
            background: rgba(99, 102, 241, 0.1);
        }

        .project-name {
            font-size: 13px;
            font-weight: 500;
            margin-bottom: 4px;
        }

        .project-desc {
            font-size: 11px;
            color: var(--text-secondary);
        }

        .example-section {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 16px;
            margin-top: 20px;
        }

        .example-title {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .example-item {
            padding: 10px 12px;
            background: white;
            border-radius: 6px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .example-item:last-child {
            margin-bottom: 0;
        }

        .example-item:hover {
            border-left: 3px solid var(--thread-primary);
            padding-left: 9px;
        }

        .example-item-title {
            font-size: 13px;
            font-weight: 500;
            margin-bottom: 4px;
        }

        .example-item-desc {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .footer-hint {
            font-size: 12px;
            color: var(--text-tertiary);
        }

        .footer-actions {
            display: flex;
            gap: 8px;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .btn-secondary:hover {
            background: var(--border-color);
        }

        .btn-primary {
            background: var(--thread-primary);
            color: white;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .btn-primary:hover {
            background: var(--thread-secondary);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const missionSummaryOverlay = document.querySelector('.mission-summary-overlay');
            const missionSummaryModal = document.querySelector('.mission-summary-modal');
            const modalCloseBtn = document.querySelector('.modal-close-btn');
            const viewDetailsBtn = document.querySelector('.modal-btn-primary');
            const modalTodoItems = document.querySelectorAll('.modal-todo-item');

            // Mission Ïπ¥Îìú ÌÅ¥Î¶≠ ‚Üí Mission ÏöîÏïΩ Î™®Îã¨ Ïó¥Í∏∞
            const missionCards = document.querySelectorAll('.mission-card');
            missionCards.forEach(card => {
                card.addEventListener('click', function(e) {
                    // Don't open modal if clicking on a button or during drag
                    if (e.target.closest('button') || this.classList.contains('dragging')) return;
                    missionSummaryOverlay.classList.add('active');
                });
            });

            // Î™®Îã¨ Îã´Í∏∞ Ìï®Ïàò
            function closeMissionSummary() {
                missionSummaryOverlay.classList.remove('active');
            }

            // Îã´Í∏∞ Î≤ÑÌäº
            if (modalCloseBtn) {
                modalCloseBtn.addEventListener('click', closeMissionSummary);
            }

            // Ïò§Î≤ÑÎ†àÏù¥ ÌÅ¥Î¶≠ Ïãú Îã´Í∏∞
            if (missionSummaryOverlay) {
                missionSummaryOverlay.addEventListener('click', function(e) {
                    if (e.target === missionSummaryOverlay) {
                        closeMissionSummary();
                    }
                });
            }

            // ESC ÌÇ§Î°ú Îã´Í∏∞
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && missionSummaryOverlay.classList.contains('active')) {
                    closeMissionSummary();
                }
            });

            // View Details Î≤ÑÌäº ‚Üí Todo Ïπ∏Î∞òÏúºÎ°ú Ïù¥Îèô
            if (viewDetailsBtn) {
                viewDetailsBtn.addEventListener('click', function() {
                    window.location.href = '01-dashboard.html';
                });
            }

            // Todo ÏïÑÏù¥ÌÖú ÌÅ¥Î¶≠ ‚Üí Todo Ïπ∏Î∞òÏúºÎ°ú Ïù¥Îèô
            modalTodoItems.forEach(item => {
                item.addEventListener('click', function() {
                    window.location.href = '01-dashboard.html';
                });
            });

            // Thread New Mission Î≤ÑÌäº
            const createBtn = document.querySelector('.create-mission-btn');
            if (createBtn) {
                createBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const overlay = document.querySelector('.create-mission-overlay');
                    if (overlay) {
                        overlay.classList.add('active');
                    }
                });
            }

            // View Switcher
            const todosBtn = document.querySelectorAll('.view-btn')[1];
            const timelineBtn = document.querySelectorAll('.view-btn')[2];

            if (todosBtn) {
                todosBtn.addEventListener('click', function() {
                    window.location.href = '01-dashboard.html';
                });
            }

            if (timelineBtn) {
                timelineBtn.addEventListener('click', function() {
                    window.location.href = '06-timeline.html';
                });
            }
        });
    </script>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <span class="logo-icon">üßµ</span>
                    <span>ThreadCast</span>
                </div>
                <div class="workspace-selector">
                    <span>My Workspace</span>
                    <span>‚ñº</span>
                </div>
            </div>

            <div class="sidebar-section" style="border-bottom: 1px solid var(--border-color); padding-bottom: 16px; margin-bottom: 16px;">
                <div class="section-title">ü§ñ Workspace AI Autonomy</div>
                <div style="background: var(--bg-secondary); border-radius: 8px; padding: 12px;">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px;">
                        <span style="font-size: 12px; font-weight: 600; color: var(--text-primary);" class="workspace-level-label">Level 3</span>
                        <span style="font-size: 11px; color: var(--text-secondary);" class="workspace-level-name">Balanced</span>
                    </div>
                    <input type="range" min="1" max="5" value="3" class="autonomy-slider workspace-autonomy-slider" style="width: 100%; cursor: pointer;" onchange="updateWorkspaceAutonomy(this.value)">
                    <div style="display: flex; justify-content: space-between; margin-top: 6px; font-size: 10px; color: var(--text-tertiary);">
                        <span>Minimal</span>
                        <span>Maximum</span>
                    </div>
                    <div style="margin-top: 10px; padding: 8px; background: rgba(99, 102, 241, 0.08); border-radius: 6px; font-size: 10px; color: var(--text-secondary); line-height: 1.4;">
                        üí° Ïù¥ ÏÑ§Ï†ïÏùÄ Î™®Îì† MissionÍ≥º TodoÏùò Í∏∞Î≥∏Í∞íÏù¥ Îê©ÎãàÎã§
                    </div>
                </div>
            </div>

            <div class="sidebar-nav">
                <div class="nav-item active">
                    <span>üìä</span>
                    <span>All Missions</span>
                </div>
                <div class="nav-item">
                    <span>‚ö°Ô∏è</span>
                    <span>Active</span>
                </div>
                <div class="nav-item">
                    <span>‚úÖ</span>
                    <span>Completed</span>
                </div>
                <div class="nav-item">
                    <span>üì¶</span>
                    <span>Archived</span>
                </div>
            </div>

            <div class="sidebar-section">
                <div class="section-title">Overview</div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value">12</div>
                        <div class="stat-label">Total</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">5</div>
                        <div class="stat-label">Active</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">65%</div>
                        <div class="stat-label">Success</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">~24h</div>
                        <div class="stat-label">Remaining</div>
                    </div>
                </div>
            </div>

            <button class="create-mission-btn">
                <span>+</span>
                <span>Thread New Mission</span>
            </button>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Top Bar -->
            <div class="top-bar">
                <div class="top-bar-left">
                    <h1 class="view-title">My Workspace</h1>
                    <div class="view-switcher">
                        <button class="view-btn active">üßµ Missions</button>
                        <button class="view-btn">üìã Todos</button>
                        <button class="view-btn">üìä Timeline</button>
                    </div>
                </div>
                <div class="top-bar-actions">
                    <button class="icon-btn" title="Filter">‚öôÔ∏è</button>
                    <button class="icon-btn" title="Group">üìä</button>
                    <button class="icon-btn" title="Sort">‚¨áÔ∏è</button>
                </div>
            </div>

            <!-- AI Question Alert Banner (Multiple Questions) -->
            <div style="background: linear-gradient(135deg, rgba(236, 72, 153, 0.1), rgba(139, 92, 246, 0.1)); border-left: 4px solid var(--thread-accent); padding: 12px 16px; margin: 16px 24px; border-radius: 8px; display: flex; align-items: center; gap: 12px; cursor: pointer; transition: all 0.2s;" onclick="toggleQuestionsPanel()">
                <div style="position: relative;">
                    <div style="font-size: 24px; animation: pulse 2s infinite;">ü§î</div>
                    <div style="position: absolute; top: -4px; right: -4px; background: var(--thread-tangled); color: white; border-radius: 50%; width: 18px; height: 18px; display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: 700; border: 2px solid white;">3</div>
                </div>
                <div style="flex: 1;">
                    <div style="font-weight: 600; font-size: 14px; color: var(--thread-accent); margin-bottom: 4px;">AIÍ∞Ä 3Í∞úÏùò ÏßàÎ¨∏ÏùÑ Í∏∞Îã§Î¶¨Í≥† ÏûàÏäµÎãàÎã§</div>
                    <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 4px;">
                        <span style="background: rgba(236, 72, 153, 0.1); padding: 2px 6px; border-radius: 4px; margin-right: 4px; font-weight: 500;">MISSION-42</span>
                        <span style="background: rgba(236, 72, 153, 0.1); padding: 2px 6px; border-radius: 4px; margin-right: 4px; font-weight: 500;">MISSION-51</span>
                        <span style="background: rgba(236, 72, 153, 0.1); padding: 2px 6px; border-radius: 4px; font-weight: 500;">MISSION-38</span>
                    </div>
                    <div style="font-size: 11px; color: var(--text-tertiary);">3Í∞ú ÏûëÏóÖÏù¥ Î∏îÎ°úÌÇπÎêòÏñ¥ AIÍ∞Ä ÎåÄÍ∏∞ Ï§ëÏûÖÎãàÎã§</div>
                </div>
                <button style="padding: 8px 16px; background: var(--thread-accent); color: white; border: none; border-radius: 6px; font-size: 13px; font-weight: 600; cursor: pointer; white-space: nowrap; transition: all 0.2s;" onclick="toggleQuestionsPanel(); event.stopPropagation();" onmouseover="this.style.background='var(--thread-secondary)'" onmouseout="this.style.background='var(--thread-accent)'">
                    ÎãµÎ≥ÄÌïòÍ∏∞ (3) ‚Üí
                </button>
            </div>

            <!-- Board Area -->
            <div class="board-area">
                <div class="board-columns">
                    <!-- Backlog Column -->
                    <div class="board-column">
                        <div class="column-header">
                            <div class="column-title">
                                üìù Backlog
                                <span class="column-count">3</span>
                            </div>
                        </div>
                        <div class="column-content">
                            <div class="mission-card">
                                <div class="mission-header">
                                    <div class="mission-id">MISSION-45</div>
                                    <div class="mission-status-dot pending"></div>
                                </div>
                                <div class="mission-title">Í≤ÄÏÉâ Í∏∞Îä• Í≥†ÎèÑÌôî</div>
                                <div class="mission-description">
                                    Elasticsearch ÎèÑÏûÖ, ÏûêÎèôÏôÑÏÑ±, ÌïÑÌÑ∞ÎßÅ, Ï†ïÎ†¨ Í∏∞Îä• Ï∂îÍ∞Ä
                                </div>
                                <div class="mission-progress">
                                    <div class="progress-bar-container">
                                        <div class="progress-bar-fill" style="width: 0%"></div>
                                    </div>
                                    <div class="progress-text">
                                        <span>0 / 8 todos</span>
                                        <span>~12h</span>
                                    </div>
                                </div>
                                <div class="mission-meta">
                                    <div class="meta-item">
                                        <span>üìÖ</span>
                                        <span>Due in 5 days</span>
                                    </div>
                                </div>
                                <div class="mission-tags">
                                    <span class="tag priority-high">High Priority</span>
                                    <span class="tag">Backend</span>
                                </div>
                            </div>

                            <div class="mission-card">
                                <div class="mission-header">
                                    <div class="mission-id">MISSION-46</div>
                                    <div class="mission-status-dot pending"></div>
                                </div>
                                <div class="mission-title">Î™®Î∞îÏùº Ïï± ÌîÑÎ°úÌÜ†ÌÉÄÏûÖ</div>
                                <div class="mission-description">
                                    React NativeÎ°ú iOS/Android Í∏∞Î≥∏ ÌôîÎ©¥ Íµ¨ÌòÑ
                                </div>
                                <div class="mission-progress">
                                    <div class="progress-bar-container">
                                        <div class="progress-bar-fill" style="width: 0%"></div>
                                    </div>
                                    <div class="progress-text">
                                        <span>0 / 6 todos</span>
                                        <span>~8h</span>
                                    </div>
                                </div>
                                <div class="mission-meta">
                                    <div class="meta-item">
                                        <span>üìÖ</span>
                                        <span>Due in 10 days</span>
                                    </div>
                                </div>
                                <div class="mission-tags">
                                    <span class="tag">Mobile</span>
                                    <span class="tag">Frontend</span>
                                </div>
                            </div>

                            <div class="mission-card">
                                <div class="mission-header">
                                    <div class="mission-id">MISSION-47</div>
                                    <div class="mission-status-dot pending"></div>
                                </div>
                                <div class="mission-title">Í≤∞Ï†ú ÏãúÏä§ÌÖú Ïó∞Îèô</div>
                                <div class="mission-description">
                                    PGÏÇ¨ Ïó∞Îèô, Ï†ïÍ∏∞Í≤∞Ï†ú, ÌôòÎ∂à Ï≤òÎ¶¨
                                </div>
                                <div class="mission-progress">
                                    <div class="progress-bar-container">
                                        <div class="progress-bar-fill" style="width: 0%"></div>
                                    </div>
                                    <div class="progress-text">
                                        <span>0 / 10 todos</span>
                                        <span>~16h</span>
                                    </div>
                                </div>
                                <div class="mission-meta">
                                    <div class="meta-item">
                                        <span>üìÖ</span>
                                        <span>No deadline</span>
                                    </div>
                                </div>
                                <div class="mission-tags">
                                    <span class="tag">Backend</span>
                                    <span class="tag">Payment</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Threading Column -->
                    <div class="board-column">
                        <div class="column-header">
                            <div class="column-title">
                                üßµ Threading
                                <span class="column-count">2</span>
                            </div>
                        </div>
                        <div class="column-content">
                            <div class="mission-card" style="border-color: var(--thread-accent); border-width: 2px; background: linear-gradient(135deg, rgba(236, 72, 153, 0.02), rgba(139, 92, 246, 0.02));">
                                <div class="mission-header">
                                    <div class="mission-id">MISSION-42</div>
                                    <div class="mission-status-dot threading"></div>
                                </div>
                                <div class="mission-title">Î°úÍ∑∏Ïù∏ Í∏∞Îä• Íµ¨ÌòÑ</div>

                                <!-- AI Question Badge (Multiple) -->
                                <div style="background: linear-gradient(135deg, rgba(236, 72, 153, 0.12), rgba(139, 92, 246, 0.12)); border-radius: 6px; padding: 6px 10px; margin: 8px 0; display: flex; align-items: center; gap: 6px; position: relative;">
                                    <span style="font-size: 14px; animation: pulse 2s infinite;">ü§î</span>
                                    <span style="font-size: 11px; font-weight: 600; color: var(--thread-accent);">AI ÏßàÎ¨∏ ÎåÄÍ∏∞ Ï§ë</span>
                                    <div style="background: var(--thread-tangled); color: white; border-radius: 10px; padding: 1px 6px; font-size: 9px; font-weight: 700; margin-left: auto;">2</div>
                                </div>

                                <div class="mission-description">
                                    JWT Í∏∞Î∞ò Ïù∏Ï¶ù, Google OAuth Ïó∞Îèô, ÏÑ∏ÏÖò Í¥ÄÎ¶¨
                                </div>
                                <div class="mission-progress">
                                    <div class="progress-bar-container">
                                        <div class="progress-bar-fill threading" style="width: 60%"></div>
                                    </div>
                                    <div class="progress-text">
                                        <span>3 / 5 todos woven</span>
                                        <span>60%</span>
                                    </div>
                                </div>
                                <div class="mission-meta">
                                    <div class="meta-item">
                                        <span>‚è±Ô∏è</span>
                                        <span>2h remaining</span>
                                    </div>
                                    <div class="meta-item">
                                        <span>üßµ</span>
                                        <span>TODO-42-3 threading</span>
                                    </div>
                                </div>
                                <div class="mission-tags">
                                    <span class="tag">Auth</span>
                                    <span class="tag">Backend</span>
                                </div>
                            </div>

                            <div class="mission-card" style="border-color: var(--thread-threading);">
                                <div class="mission-header">
                                    <div class="mission-id">MISSION-43</div>
                                    <div class="mission-status-dot threading"></div>
                                </div>
                                <div class="mission-title">ÎåÄÏãúÎ≥¥Îìú Î¶¨ÎîîÏûêÏù∏</div>
                                <div class="mission-description">
                                    Ï∞®Ìä∏ Ï∂îÍ∞Ä, Î∞òÏùëÌòï ÎîîÏûêÏù∏, Îã§ÌÅ¨Î™®Îìú ÏßÄÏõê
                                </div>
                                <div class="mission-progress">
                                    <div class="progress-bar-container">
                                        <div class="progress-bar-fill threading" style="width: 25%"></div>
                                    </div>
                                    <div class="progress-text">
                                        <span>2 / 8 todos woven</span>
                                        <span>25%</span>
                                    </div>
                                </div>
                                <div class="mission-meta">
                                    <div class="meta-item">
                                        <span>‚è±Ô∏è</span>
                                        <span>8h remaining</span>
                                    </div>
                                    <div class="meta-item">
                                        <span>üßµ</span>
                                        <span>TODO-43-2 threading</span>
                                    </div>
                                </div>
                                <div class="mission-tags">
                                    <span class="tag">UI/UX</span>
                                    <span class="tag">Frontend</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Woven Column -->
                    <div class="board-column">
                        <div class="column-header">
                            <div class="column-title">
                                ‚úÖ Woven
                                <span class="column-count">2</span>
                            </div>
                        </div>
                        <div class="column-content">
                            <div class="mission-card">
                                <div class="mission-header">
                                    <div class="mission-id">MISSION-40</div>
                                    <div class="mission-status-dot woven"></div>
                                </div>
                                <div class="mission-title">API ÏÑ±Îä• ÏµúÏ†ÅÌôî</div>
                                <div class="mission-description">
                                    Redis Ï∫êÏã±, DB ÏøºÎ¶¨ Í∞úÏÑ†, Connection Pool ÌäúÎãù
                                </div>
                                <div class="mission-progress">
                                    <div class="progress-bar-container">
                                        <div class="progress-bar-fill" style="width: 100%"></div>
                                    </div>
                                    <div class="progress-text">
                                        <span>12 / 12 todos woven</span>
                                        <span style="color: var(--thread-woven);">‚úì Completed</span>
                                    </div>
                                </div>
                                <div class="mission-meta">
                                    <div class="meta-item">
                                        <span>‚úÖ</span>
                                        <span>Woven 2 days ago</span>
                                    </div>
                                </div>
                                <div class="mission-tags">
                                    <span class="tag">Performance</span>
                                    <span class="tag">Backend</span>
                                </div>
                            </div>

                            <div class="mission-card">
                                <div class="mission-header">
                                    <div class="mission-id">MISSION-41</div>
                                    <div class="mission-status-dot woven"></div>
                                </div>
                                <div class="mission-title">CI/CD ÌååÏù¥ÌîÑÎùºÏù∏ Íµ¨Ï∂ï</div>
                                <div class="mission-description">
                                    GitHub Actions, ÏûêÎèô ÌÖåÏä§Ìä∏, Î∞∞Ìè¨ ÏûêÎèôÌôî
                                </div>
                                <div class="mission-progress">
                                    <div class="progress-bar-container">
                                        <div class="progress-bar-fill" style="width: 100%"></div>
                                    </div>
                                    <div class="progress-text">
                                        <span>7 / 7 todos woven</span>
                                        <span style="color: var(--thread-woven);">‚úì Completed</span>
                                    </div>
                                </div>
                                <div class="mission-meta">
                                    <div class="meta-item">
                                        <span>‚úÖ</span>
                                        <span>Woven 5 days ago</span>
                                    </div>
                                </div>
                                <div class="mission-tags">
                                    <span class="tag">DevOps</span>
                                    <span class="tag">Infrastructure</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Archived Column -->
                    <div class="board-column">
                        <div class="column-header">
                            <div class="column-title">
                                üì¶ Archived
                                <span class="column-count">5</span>
                            </div>
                        </div>
                        <div class="column-content">
                            <div class="mission-card" style="opacity: 0.7;">
                                <div class="mission-header">
                                    <div class="mission-id">MISSION-35</div>
                                    <div class="mission-status-dot woven"></div>
                                </div>
                                <div class="mission-title">ÌîÑÎ°úÏ†ùÌä∏ Ï¥àÍ∏∞ ÏÑ§Ï†ï</div>
                                <div class="mission-description">
                                    Spring Boot, React ÌîÑÎ°úÏ†ùÌä∏ ÏÖãÏóÖ, DB Ïä§ÌÇ§Îßà ÏÑ§Í≥Ñ
                                </div>
                                <div class="mission-progress">
                                    <div class="progress-bar-container">
                                        <div class="progress-bar-fill" style="width: 100%"></div>
                                    </div>
                                    <div class="progress-text">
                                        <span>15 / 15 todos woven</span>
                                        <span>‚úì</span>
                                    </div>
                                </div>
                                <div class="mission-meta">
                                    <div class="meta-item">
                                        <span>üì¶</span>
                                        <span>Archived 2 weeks ago</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Mission Summary Modal -->
    <div class="mission-summary-overlay">
        <div class="mission-summary-modal">
            <div class="modal-header">
                <div class="header-top">
                    <div style="flex: 1;">
                        <div class="modal-mission-id">MISSION-42</div>
                        <h2 class="modal-mission-title">Î°úÍ∑∏Ïù∏ Í∏∞Îä• Íµ¨ÌòÑ</h2>
                        <div class="modal-mission-description">
                            JWT Í∏∞Î∞ò Î°úÍ∑∏Ïù∏ ÏãúÏä§ÌÖú Íµ¨ÌòÑ. Google OAuth 2.0 Ïó∞Îèô, ÏÑ∏ÏÖò Í¥ÄÎ¶¨, ÎπÑÎ∞ÄÎ≤àÌò∏ ÏïîÌò∏ÌôîÎ•º Ìè¨Ìï®Ìïú ÏôÑÏ†ÑÌïú Ïù∏Ï¶ù ÏãúÏä§ÌÖú Í∞úÎ∞ú
                        </div>
                        <div class="modal-tags">
                            <span class="modal-tag">üîê Auth</span>
                            <span class="modal-tag">‚öôÔ∏è Backend</span>
                            <span class="modal-tag">‚ö°Ô∏è High Priority</span>
                        </div>
                    </div>
                    <div>
                        <div class="status-badge threading">
                            <span>üßµ</span>
                            <span>Threading</span>
                        </div>
                        <button class="modal-close-btn" style="margin-top: 8px;">√ó</button>
                    </div>
                </div>

                <div class="modal-progress-section">
                    <div class="modal-progress-label">Thread Progress</div>
                    <div class="modal-progress-bar-container">
                        <div class="modal-progress-bar-fill" style="width: 60%"></div>
                    </div>
                    <div class="modal-stats-grid">
                        <div class="modal-stat-item">
                            <div class="modal-stat-value">60%</div>
                            <div class="modal-stat-label">Progress</div>
                        </div>
                        <div class="modal-stat-item">
                            <div class="modal-stat-value">3/5</div>
                            <div class="modal-stat-label">Todos Woven</div>
                        </div>
                        <div class="modal-stat-item">
                            <div class="modal-stat-value">2h</div>
                            <div class="modal-stat-label">Remaining</div>
                        </div>
                        <div class="modal-stat-item">
                            <div class="modal-stat-value">4h</div>
                            <div class="modal-stat-label">Elapsed</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-body">
                <!-- AI Question Alert (Multiple) -->
                <div style="background: linear-gradient(135deg, rgba(236, 72, 153, 0.1), rgba(139, 92, 246, 0.1)); border-left: 4px solid var(--thread-accent); padding: 12px 16px; margin-bottom: 16px; border-radius: 8px; display: flex; align-items: center; gap: 12px;">
                    <div style="position: relative;">
                        <div style="font-size: 20px; animation: pulse 2s infinite;">ü§î</div>
                        <div style="position: absolute; top: -4px; right: -4px; background: var(--thread-tangled); color: white; border-radius: 50%; width: 16px; height: 16px; display: flex; align-items: center; justify-content: center; font-size: 9px; font-weight: 700; border: 2px solid white;">2</div>
                    </div>
                    <div style="flex: 1;">
                        <div style="font-weight: 600; font-size: 13px; color: var(--thread-accent); margin-bottom: 4px;">Ïù¥ MissionÏóêÏÑú AIÍ∞Ä 2Í∞ú ÏßàÎ¨∏ÏùÑ Í∏∞Îã§Î¶ΩÎãàÎã§</div>
                        <div style="font-size: 11px; color: var(--text-secondary);">TODO-42-3, TODO-42-5 ÏûëÏóÖÏù¥ ÎãµÎ≥Ä ÎåÄÍ∏∞ Ï§ëÏûÖÎãàÎã§</div>
                    </div>
                </div>

                <div class="modal-section-title">üßµ Thread Path (5 Todos)</div>
                <div class="modal-todo-list">
                    <div class="modal-todo-item">
                        <div class="modal-todo-item-header">
                            <div class="modal-todo-item-left">
                                <div class="modal-todo-status-dot woven"></div>
                                <div class="modal-todo-item-id">TODO-42-1</div>
                                <div class="modal-todo-item-title">Í∏∞Ï°¥ Ïù∏Ï¶ù ÏãúÏä§ÌÖú Ï°∞ÏÇ¨</div>
                            </div>
                            <span class="modal-complexity-badge low">Low</span>
                        </div>
                        <div class="modal-todo-item-meta">
                            <span>‚úÖ Woven 2h ago</span>
                            <span>‚è±Ô∏è 30min</span>
                        </div>
                    </div>

                    <div class="modal-todo-item">
                        <div class="modal-todo-item-header">
                            <div class="modal-todo-item-left">
                                <div class="modal-todo-status-dot woven"></div>
                                <div class="modal-todo-item-id">TODO-42-2</div>
                                <div class="modal-todo-item-title">Î°úÍ∑∏Ïù∏ Ìèº Ïª¥Ìè¨ÎÑåÌä∏</div>
                            </div>
                            <span class="modal-complexity-badge high">High</span>
                        </div>
                        <div class="modal-todo-item-meta">
                            <span>‚úÖ Woven 30m ago</span>
                            <span>‚è±Ô∏è 2h</span>
                        </div>
                    </div>

                    <div class="modal-todo-item threading" style="border-color: var(--thread-accent); background: linear-gradient(135deg, rgba(236, 72, 153, 0.03), rgba(139, 92, 246, 0.03));">
                        <div class="modal-todo-item-header">
                            <div class="modal-todo-item-left">
                                <div class="modal-todo-status-dot threading"></div>
                                <div class="modal-todo-item-id">TODO-42-3</div>
                                <div class="modal-todo-item-title">API ÏóîÎìúÌè¨Ïù∏Ìä∏ Íµ¨ÌòÑ</div>
                            </div>
                            <span class="modal-complexity-badge high">High</span>
                        </div>

                        <!-- AI Question Badge -->
                        <div style="background: linear-gradient(135deg, rgba(236, 72, 153, 0.12), rgba(139, 92, 246, 0.12)); border-radius: 4px; padding: 6px 8px; margin: 8px 0; display: inline-flex; align-items: center; gap: 4px;">
                            <span style="font-size: 12px; animation: pulse 2s infinite;">ü§î</span>
                            <span style="font-size: 10px; font-weight: 600; color: var(--thread-accent);">AI ÏßàÎ¨∏ ÎåÄÍ∏∞ Ï§ë</span>
                        </div>

                        <div class="modal-todo-item-meta">
                            <span>üßµ Threading (Step 3/6)</span>
                            <span>‚è±Ô∏è 1.5h remaining</span>
                        </div>
                    </div>

                    <div class="modal-todo-item">
                        <div class="modal-todo-item-header">
                            <div class="modal-todo-item-left">
                                <div class="modal-todo-status-dot pending"></div>
                                <div class="modal-todo-item-id">TODO-42-4</div>
                                <div class="modal-todo-item-title">ÏÑ∏ÏÖò Í¥ÄÎ¶¨ Î∞è OAuth Ïó∞Îèô</div>
                            </div>
                            <span class="modal-complexity-badge medium">Medium</span>
                        </div>
                        <div class="modal-todo-item-meta">
                            <span>üîó Depends on TODO-42-2, TODO-42-3</span>
                            <span>‚è±Ô∏è ~1h</span>
                        </div>
                    </div>

                    <div class="modal-todo-item" style="border-color: var(--thread-accent); background: linear-gradient(135deg, rgba(236, 72, 153, 0.03), rgba(139, 92, 246, 0.03));">
                        <div class="modal-todo-item-header">
                            <div class="modal-todo-item-left">
                                <div class="modal-todo-status-dot threading"></div>
                                <div class="modal-todo-item-id">TODO-42-5</div>
                                <div class="modal-todo-item-title">ÌÜµÌï© ÌÖåÏä§Ìä∏ ÏûëÏÑ±</div>
                            </div>
                            <span class="modal-complexity-badge low">Low</span>
                        </div>

                        <!-- AI Question Badge -->
                        <div style="background: linear-gradient(135deg, rgba(236, 72, 153, 0.12), rgba(139, 92, 246, 0.12)); border-radius: 4px; padding: 6px 8px; margin: 8px 0; display: inline-flex; align-items: center; gap: 4px;">
                            <span style="font-size: 12px; animation: pulse 2s infinite;">ü§î</span>
                            <span style="font-size: 10px; font-weight: 600; color: var(--thread-accent);">AI ÏßàÎ¨∏ ÎåÄÍ∏∞ Ï§ë</span>
                        </div>

                        <div class="modal-todo-item-meta">
                            <span>üßµ Threading (Step 1/6)</span>
                            <span>‚è±Ô∏è ~1h</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <div class="modal-footer-hint">
                    üí° TodoÎ•º ÌÅ¥Î¶≠ÌïòÎ©¥ ÏÉÅÏÑ∏ ÌôîÎ©¥ÏúºÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§
                </div>
                <div class="modal-footer-actions">
                    <button class="modal-btn modal-btn-primary">
                        <span>üìã</span>
                        <span>View Details</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Questions Panel Overlay -->
    <div class="questions-panel-overlay" onclick="toggleQuestionsPanel()"></div>

    <!-- Questions Panel -->
    <div class="questions-panel">
        <!-- Panel Header -->
        <div style="padding: 20px 24px; border-bottom: 1px solid var(--border-color); background: var(--bg-secondary);">
            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px;">
                <div style="display: flex; align-items: center; gap: 8px;">
                    <span style="font-size: 20px; animation: pulse 2s infinite;">ü§î</span>
                    <h3 style="font-size: 16px; font-weight: 700; color: var(--text-primary);">ÎãµÎ≥Ä ÎåÄÍ∏∞ Ï§ëÏù∏ ÏßàÎ¨∏</h3>
                </div>
                <button onclick="toggleQuestionsPanel()" style="width: 32px; height: 32px; border: none; background: transparent; border-radius: 6px; cursor: pointer; display: flex; align-items: center; justify-content: center; color: var(--text-secondary); font-size: 20px; transition: all 0.2s;" onmouseover="this.style.background='var(--bg-tertiary)'" onmouseout="this.style.background='transparent'">
                    √ó
                </button>
            </div>
            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                <div style="background: var(--thread-tangled); color: white; border-radius: 12px; padding: 2px 10px; font-size: 12px; font-weight: 700;">3</div>
                <div style="font-size: 12px; color: var(--text-secondary);">Í∞úÏùò ÏßàÎ¨∏Ïù¥ ÎãµÎ≥ÄÏùÑ Í∏∞Îã§Î¶¨Í≥† ÏûàÏäµÎãàÎã§</div>
            </div>

            <!-- ÌïÑÌÑ∞ÎßÅ & Ï†ïÎ†¨ -->
            <div style="display: flex; gap: 8px;">
                <select onchange="filterQuestions(this.value)" style="flex: 1; padding: 8px 10px; border: 1px solid var(--border-color); border-radius: 6px; font-size: 11px; cursor: pointer; background: white;">
                    <option value="all">Î™®Îì† Ïö∞ÏÑ†ÏàúÏúÑ</option>
                    <option value="urgent">üî¥ Í∏¥Í∏â</option>
                    <option value="high">üü† ÎÜíÏùå</option>
                    <option value="medium">üü° Î≥¥ÌÜµ</option>
                </select>
                <select onchange="sortQuestions(this.value)" style="flex: 1; padding: 8px 10px; border: 1px solid var(--border-color); border-radius: 6px; font-size: 11px; cursor: pointer; background: white;">
                    <option value="priority">Ïö∞ÏÑ†ÏàúÏúÑÏàú</option>
                    <option value="time">ÏãúÍ∞ÑÏàú</option>
                    <option value="mission">MissionÏàú</option>
                </select>
            </div>
        </div>

        <!-- Panel Body (Scrollable) -->
        <div style="flex: 1; overflow-y: auto; padding: 16px;">
            <!-- Question Card 1 - URGENT -->
            <div class="question-card" data-priority="urgent" data-mission="MISSION-42" data-time="1" style="background: white; border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 12px; overflow: hidden;">
                <!-- Question Header (Always Visible) -->
                <div onclick="toggleQuestionCard(this)" style="padding: 12px 16px; cursor: pointer; transition: all 0.2s; border-left: 3px solid var(--thread-tangled);" onmouseover="this.style.background='var(--bg-secondary)'" onmouseout="this.style.background='white'">
                    <div style="display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 6px;">
                        <div style="flex: 1;">
                            <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 4px;">
                                <div style="font-size: 10px; color: var(--text-tertiary); font-weight: 600;">
                                    MISSION-42 ‚Ä∫ TODO-42-3
                                </div>
                                <div style="background: rgba(239, 68, 68, 0.1); color: var(--thread-tangled); padding: 2px 6px; border-radius: 10px; font-size: 9px; font-weight: 700; display: flex; align-items: center; gap: 3px;">
                                    üî¥ Í∏¥Í∏â
                                </div>
                            </div>
                            <div style="font-size: 13px; font-weight: 600; color: var(--text-primary); margin-bottom: 4px;">
                                ÏÑ∏ÏÖò ÎßåÎ£å ÏãúÍ∞ÑÏùÑ Î™á Î∂ÑÏúºÎ°ú ÏÑ§Ï†ïÌï†ÍπåÏöî?
                            </div>
                            <div style="font-size: 11px; color: var(--text-secondary);">
                                API ÏóîÎìúÌè¨Ïù∏Ìä∏ Íµ¨ÌòÑ ¬∑ Step 3/6 ¬∑ ÏûëÏóÖ Î∏îÎ°úÌÇπ Ï§ë
                            </div>
                        </div>
                        <div class="expand-icon" style="font-size: 18px; color: var(--text-tertiary); margin-left: 8px; transform: rotate(0deg); transition: transform 0.2s;">
                            ‚ñº
                        </div>
                    </div>
                </div>

                <!-- Question Body (Expandable) -->
                <div class="question-body" style="max-height: 0; overflow: hidden; transition: max-height 0.3s ease;">
                    <div style="padding: 0 16px 16px 16px; border-top: 1px solid var(--bg-tertiary);">
                        <!-- ÏßàÎ¨∏ Ïª®ÌÖçÏä§Ìä∏ -->
                        <div style="font-size: 12px; color: var(--text-secondary); line-height: 1.6; margin: 12px 0;">
                            Î≥¥ÏïàÍ≥º ÏÇ¨Ïö©Ïûê Í≤ΩÌóòÏùò Í∑†ÌòïÏùÑ Í≥†Î†§ÌïòÏó¨ ÏÑ∏ÏÖò ÎßåÎ£å ÏãúÍ∞ÑÏùÑ ÏÑ§Ï†ïÌï¥Ïïº Ìï©ÎãàÎã§.
                        </div>

                        <!-- ÏÉÅÏÑ∏ Ïª®ÌÖçÏä§Ìä∏ (ÌéºÏπòÍ∏∞/Ï†ëÍ∏∞) -->
                        <div class="question-context" style="display: none; background: rgba(99, 102, 241, 0.05); border-radius: 6px; padding: 12px; margin-bottom: 12px;">
                            <div style="font-size: 11px; font-weight: 600; color: var(--thread-primary); margin-bottom: 8px;">üìã ÏÉÅÏÑ∏ Ïª®ÌÖçÏä§Ìä∏</div>
                            <div style="font-size: 11px; color: var(--text-secondary); line-height: 1.5; margin-bottom: 8px;">
                                <strong>ÌòÑÏû¨ ÏßÑÌñâ ÏÉÅÌô©:</strong><br>
                                API ÏóîÎìúÌè¨Ïù∏Ìä∏Ïùò Ïù∏Ï¶ù ÎØ∏Îì§Ïõ®Ïñ¥Î•º Íµ¨ÌòÑÌïòÎäî Ï§ëÏûÖÎãàÎã§. JWT ÌÜ†ÌÅ∞ Î∞úÍ∏âÏùÄ ÏôÑÎ£åÌñàÏúºÎ©∞, ÏÑ∏ÏÖò Í¥ÄÎ¶¨ Î°úÏßÅÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.
                            </div>
                            <div style="font-size: 11px; color: var(--text-secondary); line-height: 1.5; margin-bottom: 8px;">
                                <strong>Í¥ÄÎ†® ÌååÏùº:</strong><br>
                                ‚Ä¢ src/auth/middleware.ts (ÌòÑÏû¨ ÏûëÏóÖ Ï§ë)<br>
                                ‚Ä¢ src/config/session.ts (ÏÉùÏÑ± ÏòàÏ†ï)
                            </div>
                            <div style="font-size: 11px; color: var(--text-secondary); line-height: 1.5;">
                                <strong>Í≥†Î†§ÏÇ¨Ìï≠:</strong><br>
                                ‚Ä¢ Î≥¥Ïïà: ÏßßÏùÑÏàòÎ°ù ÏïàÏ†ÑÌïòÏßÄÎßå ÏÇ¨Ïö©Ïûê Î∂àÌé∏<br>
                                ‚Ä¢ UX: Í∏∏ÏàòÎ°ù Ìé∏ÌïòÏßÄÎßå Î≥¥Ïïà ÏúÑÌóò<br>
                                ‚Ä¢ ÏÇ∞ÏóÖ ÌëúÏ§Ä: 15-30Î∂Ñ Í∂åÏû•
                            </div>
                        </div>

                        <!-- Ïª®ÌÖçÏä§Ìä∏ ÌÜ†Í∏Ä Î≤ÑÌäº -->
                        <button onclick="toggleContext(this)" style="width: 100%; padding: 8px; background: white; border: 1px solid var(--border-color); border-radius: 6px; font-size: 11px; font-weight: 500; cursor: pointer; color: var(--text-secondary); transition: all 0.2s; margin-bottom: 12px;" onmouseover="this.style.borderColor='var(--thread-primary)'" onmouseout="this.style.borderColor='var(--border-color)'">
                            üìñ ÏÉÅÏÑ∏ Ïª®ÌÖçÏä§Ìä∏ Î≥¥Í∏∞
                        </button>

                        <!-- Answer Options -->
                        <div style="display: flex; flex-direction: column; gap: 8px; margin-bottom: 12px;">
                            <button class="panel-answer-option" onclick="selectPanelAnswer(this, '15Î∂Ñ (Î≥¥Ïïà Í∞ïÌôî)')" style="width: 100%; padding: 10px 12px; background: white; border: 2px solid var(--border-color); border-radius: 6px; font-size: 12px; font-weight: 500; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 8px; text-align: left;">
                                <span class="radio-icon" style="width: 16px; height: 16px; border: 2px solid var(--border-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                    <span style="width: 6px; height: 6px; border-radius: 50%; background: transparent;"></span>
                                </span>
                                <span style="flex: 1;">15Î∂Ñ (Î≥¥Ïïà Í∞ïÌôî)</span>
                            </button>
                            <button class="panel-answer-option" onclick="selectPanelAnswer(this, '30Î∂Ñ (ÏùºÎ∞òÏ†Å)')" style="width: 100%; padding: 10px 12px; background: white; border: 2px solid var(--border-color); border-radius: 6px; font-size: 12px; font-weight: 500; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 8px; text-align: left;">
                                <span class="radio-icon" style="width: 16px; height: 16px; border: 2px solid var(--border-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                    <span style="width: 6px; height: 6px; border-radius: 50%; background: transparent;"></span>
                                </span>
                                <span style="flex: 1;">30Î∂Ñ (ÏùºÎ∞òÏ†Å)</span>
                            </button>
                            <button class="panel-answer-option" onclick="selectPanelAnswer(this, '60Î∂Ñ (Ìé∏ÏùòÏÑ± Ïö∞ÏÑ†)')" style="width: 100%; padding: 10px 12px; background: white; border: 2px solid var(--border-color); border-radius: 6px; font-size: 12px; font-weight: 500; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 8px; text-align: left;">
                                <span class="radio-icon" style="width: 16px; height: 16px; border: 2px solid var(--border-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                    <span style="width: 6px; height: 6px; border-radius: 50%; background: transparent;"></span>
                                </span>
                                <span style="flex: 1;">60Î∂Ñ (Ìé∏ÏùòÏÑ± Ïö∞ÏÑ†)</span>
                            </button>
                            <button class="panel-answer-option" onclick="selectPanelAnswer(this, 'AIÍ∞Ä Í≤∞Ï†ï')" style="width: 100%; padding: 10px 12px; background: var(--bg-secondary); border: 2px solid var(--border-color); border-radius: 6px; font-size: 12px; font-weight: 500; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 8px; text-align: left;">
                                <span class="radio-icon" style="width: 16px; height: 16px; border: 2px solid var(--border-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                    <span style="width: 6px; height: 6px; border-radius: 50%; background: transparent;"></span>
                                </span>
                                <span style="flex: 1;">AIÍ∞Ä Í≤∞Ï†ï</span>
                            </button>
                        </div>

                        <!-- Submit Button -->
                        <button class="panel-submit-btn" onclick="submitPanelAnswer(this)" disabled style="width: 100%; padding: 10px; background: var(--thread-accent); color: white; border: none; border-radius: 6px; font-size: 13px; font-weight: 600; cursor: pointer; opacity: 0.5; pointer-events: none; transition: all 0.2s;">
                            ÎãµÎ≥Ä Ï†úÏ∂ú
                        </button>
                    </div>
                </div>
            </div>

            <!-- Question Card 2 - HIGH -->
            <div class="question-card" data-priority="high" data-mission="MISSION-51" data-time="2" style="background: white; border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 12px; overflow: hidden;">
                <div onclick="toggleQuestionCard(this)" style="padding: 12px 16px; cursor: pointer; transition: all 0.2s; border-left: 3px solid var(--thread-threading);" onmouseover="this.style.background='var(--bg-secondary)'" onmouseout="this.style.background='white'">
                    <div style="display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 6px;">
                        <div style="flex: 1;">
                            <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 4px;">
                                <div style="font-size: 10px; color: var(--text-tertiary); font-weight: 600;">
                                    MISSION-51 ‚Ä∫ TODO-51-2
                                </div>
                                <div style="background: rgba(245, 158, 11, 0.1); color: var(--thread-threading); padding: 2px 6px; border-radius: 10px; font-size: 9px; font-weight: 700; display: flex; align-items: center; gap: 3px;">
                                    üü† ÎÜíÏùå
                                </div>
                            </div>
                            <div style="font-size: 13px; font-weight: 600; color: var(--text-primary); margin-bottom: 4px;">
                                ÌÖåÏä§Ìä∏ Ïª§Î≤ÑÎ¶¨ÏßÄ Î™©ÌëúÎ•º Î™á %Î°ú ÏÑ§Ï†ïÌï†ÍπåÏöî?
                            </div>
                            <div style="font-size: 11px; color: var(--text-secondary);">
                                Îã®ÏúÑ ÌÖåÏä§Ìä∏ ÏûëÏÑ± ¬∑ Step 2/5
                            </div>
                        </div>
                        <div class="expand-icon" style="font-size: 18px; color: var(--text-tertiary); margin-left: 8px; transform: rotate(0deg); transition: transform 0.2s;">
                            ‚ñº
                        </div>
                    </div>
                </div>

                <div class="question-body" style="max-height: 0; overflow: hidden; transition: max-height 0.3s ease;">
                    <div style="padding: 0 16px 16px 16px; border-top: 1px solid var(--bg-tertiary);">
                        <div style="font-size: 12px; color: var(--text-secondary); line-height: 1.6; margin: 12px 0;">
                            ÌîÑÎ°úÏ†ùÌä∏Ïùò ÌíàÏßà Í∏∞Ï§ÄÍ≥º ÏùºÏ†ïÏùÑ Í≥†Î†§ÌïòÏó¨ Ï†ÅÏ†àÌïú Ïª§Î≤ÑÎ¶¨ÏßÄ Î™©ÌëúÎ•º ÏÑ§Ï†ïÌï©ÎãàÎã§.
                        </div>

                        <div style="display: flex; flex-direction: column; gap: 8px; margin-bottom: 12px;">
                            <button class="panel-answer-option" onclick="selectPanelAnswer(this, '80% Ïù¥ÏÉÅ')" style="width: 100%; padding: 10px 12px; background: white; border: 2px solid var(--border-color); border-radius: 6px; font-size: 12px; font-weight: 500; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 8px; text-align: left;">
                                <span class="radio-icon" style="width: 16px; height: 16px; border: 2px solid var(--border-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                    <span style="width: 6px; height: 6px; border-radius: 50%; background: transparent;"></span>
                                </span>
                                <span style="flex: 1;">80% Ïù¥ÏÉÅ (ÎÜíÏùÄ ÌíàÏßà)</span>
                            </button>
                            <button class="panel-answer-option" onclick="selectPanelAnswer(this, '60-80%')" style="width: 100%; padding: 10px 12px; background: white; border: 2px solid var(--border-color); border-radius: 6px; font-size: 12px; font-weight: 500; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 8px; text-align: left;">
                                <span class="radio-icon" style="width: 16px; height: 16px; border: 2px solid var(--border-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                    <span style="width: 6px; height: 6px; border-radius: 50%; background: transparent;"></span>
                                </span>
                                <span style="flex: 1;">60-80% (ÏùºÎ∞òÏ†Å)</span>
                            </button>
                            <button class="panel-answer-option" onclick="selectPanelAnswer(this, 'AIÍ∞Ä Í≤∞Ï†ï')" style="width: 100%; padding: 10px 12px; background: var(--bg-secondary); border: 2px solid var(--border-color); border-radius: 6px; font-size: 12px; font-weight: 500; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 8px; text-align: left;">
                                <span class="radio-icon" style="width: 16px; height: 16px; border: 2px solid var(--border-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                    <span style="width: 6px; height: 6px; border-radius: 50%; background: transparent;"></span>
                                </span>
                                <span style="flex: 1;">AIÍ∞Ä Í≤∞Ï†ï</span>
                            </button>
                        </div>

                        <button class="panel-submit-btn" onclick="submitPanelAnswer(this)" disabled style="width: 100%; padding: 10px; background: var(--thread-secondary); color: white; border: none; border-radius: 6px; font-size: 13px; font-weight: 600; cursor: pointer; opacity: 0.5; pointer-events: none; transition: all 0.2s;">
                            ÎãµÎ≥Ä Ï†úÏ∂ú
                        </button>
                    </div>
                </div>
            </div>

            <!-- Question Card 3 - MEDIUM -->
            <div class="question-card" data-priority="medium" data-mission="MISSION-38" data-time="3" style="background: white; border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 12px; overflow: hidden;">
                <div onclick="toggleQuestionCard(this)" style="padding: 12px 16px; cursor: pointer; transition: all 0.2s; border-left: 3px solid var(--thread-primary);" onmouseover="this.style.background='var(--bg-secondary)'" onmouseout="this.style.background='white'">
                    <div style="display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 6px;">
                        <div style="flex: 1;">
                            <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 4px;">
                                <div style="font-size: 10px; color: var(--text-tertiary); font-weight: 600;">
                                    MISSION-38 ‚Ä∫ TODO-38-1
                                </div>
                                <div style="background: rgba(251, 191, 36, 0.1); color: #EAB308; padding: 2px 6px; border-radius: 10px; font-size: 9px; font-weight: 700; display: flex; align-items: center; gap: 3px;">
                                    üü° Î≥¥ÌÜµ
                                </div>
                            </div>
                            <div style="font-size: 13px; font-weight: 600; color: var(--text-primary); margin-bottom: 4px;">
                                Î∞∞Ìè¨ Ï†Ñ ÏäπÏù∏ÏûêÎ•º ÎàÑÍµ¨Î°ú ÏßÄÏ†ïÌï†ÍπåÏöî?
                            </div>
                            <div style="font-size: 11px; color: var(--text-secondary);">
                                Î∞∞Ìè¨ ÌååÏù¥ÌîÑÎùºÏù∏ Íµ¨Ï∂ï ¬∑ Step 1/4
                            </div>
                        </div>
                        <div class="expand-icon" style="font-size: 18px; color: var(--text-tertiary); margin-left: 8px; transform: rotate(0deg); transition: transform 0.2s;">
                            ‚ñº
                        </div>
                    </div>
                </div>

                <div class="question-body" style="max-height: 0; overflow: hidden; transition: max-height 0.3s ease;">
                    <div style="padding: 0 16px 16px 16px; border-top: 1px solid var(--bg-tertiary);">
                        <div style="font-size: 12px; color: var(--text-secondary); line-height: 1.6; margin: 12px 0;">
                            ÌîÑÎ°úÎçïÏÖò Î∞∞Ìè¨ Ï†ÑÏóê ÏäπÏù∏ Îã®Í≥ÑÎ•º Ï∂îÍ∞ÄÌïòÏó¨ ÏïàÏ†ÑÏÑ±ÏùÑ ÌôïÎ≥¥Ìï©ÎãàÎã§.
                        </div>

                        <div style="display: flex; flex-direction: column; gap: 8px; margin-bottom: 12px;">
                            <button class="panel-answer-option" onclick="selectPanelAnswer(this, 'ÌåÄ Î¶¨Îìú')" style="width: 100%; padding: 10px 12px; background: white; border: 2px solid var(--border-color); border-radius: 6px; font-size: 12px; font-weight: 500; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 8px; text-align: left;">
                                <span class="radio-icon" style="width: 16px; height: 16px; border: 2px solid var(--border-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                    <span style="width: 6px; height: 6px; border-radius: 50%; background: transparent;"></span>
                                </span>
                                <span style="flex: 1;">ÌåÄ Î¶¨Îìú</span>
                            </button>
                            <button class="panel-answer-option" onclick="selectPanelAnswer(this, 'DevOps ÏóîÏßÄÎãàÏñ¥')" style="width: 100%; padding: 10px 12px; background: white; border: 2px solid var(--border-color); border-radius: 6px; font-size: 12px; font-weight: 500; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 8px; text-align: left;">
                                <span class="radio-icon" style="width: 16px; height: 16px; border: 2px solid var(--border-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                    <span style="width: 6px; height: 6px; border-radius: 50%; background: transparent;"></span>
                                </span>
                                <span style="flex: 1;">DevOps ÏóîÏßÄÎãàÏñ¥</span>
                            </button>
                            <button class="panel-answer-option" onclick="selectPanelAnswer(this, 'Îëò Îã§')" style="width: 100%; padding: 10px 12px; background: white; border: 2px solid var(--border-color); border-radius: 6px; font-size: 12px; font-weight: 500; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 8px; text-align: left;">
                                <span class="radio-icon" style="width: 16px; height: 16px; border: 2px solid var(--border-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                    <span style="width: 6px; height: 6px; border-radius: 50%; background: transparent;"></span>
                                </span>
                                <span style="flex: 1;">Îëò Îã§ (Ïù¥Ï§ë ÏäπÏù∏)</span>
                            </button>
                            <button class="panel-answer-option" onclick="selectPanelAnswer(this, 'AIÍ∞Ä Í≤∞Ï†ï')" style="width: 100%; padding: 10px 12px; background: var(--bg-secondary); border: 2px solid var(--border-color); border-radius: 6px; font-size: 12px; font-weight: 500; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 8px; text-align: left;">
                                <span class="radio-icon" style="width: 16px; height: 16px; border: 2px solid var(--border-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                    <span style="width: 6px; height: 6px; border-radius: 50%; background: transparent;"></span>
                                </span>
                                <span style="flex: 1;">AIÍ∞Ä Í≤∞Ï†ï</span>
                            </button>
                        </div>

                        <button class="panel-submit-btn" onclick="submitPanelAnswer(this)" disabled style="width: 100%; padding: 10px; background: var(--thread-primary); color: white; border: none; border-radius: 6px; font-size: 13px; font-weight: 600; cursor: pointer; opacity: 0.5; pointer-events: none; transition: all 0.2s;">
                            ÎãµÎ≥Ä Ï†úÏ∂ú
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Panel Footer -->
        <div style="padding: 16px 24px; border-top: 1px solid var(--border-color); background: var(--bg-secondary);">
            <button onclick="bulkAnswerAll()" style="width: 100%; padding: 12px; background: var(--thread-secondary); color: white; border: none; border-radius: 6px; font-size: 13px; font-weight: 600; cursor: pointer; transition: all 0.2s; margin-bottom: 12px; display: flex; align-items: center; justify-content: center; gap: 8px;" onmouseover="this.style.background='var(--thread-primary)'" onmouseout="this.style.background='var(--thread-secondary)'">
                <span>ü§ñ</span>
                <span>Î™®Îëê AIÍ∞Ä Í≤∞Ï†ïÌïòÎèÑÎ°ù ÏùºÍ¥Ñ ÎãµÎ≥Ä</span>
            </button>
            <div style="font-size: 11px; color: var(--text-tertiary); text-align: center;">
                üí° ÎãµÎ≥ÄÏùÑ Ï†úÏ∂úÌïòÎ©¥ AIÍ∞Ä ÏûëÏóÖÏùÑ Í≥ÑÏÜç ÏßÑÌñâÌï©ÎãàÎã§
            </div>
        </div>
    </div>

    <!-- Create Mission Modal -->
    <div class="create-mission-overlay">
        <div class="create-mission-modal">
            <div class="modal-header">
                <div class="create-modal-title">
                    <span>üßµ</span>
                    <span>Thread New Mission</span>
                </div>
                <div class="create-modal-subtitle">
                    System AgentÍ∞Ä ÏûêÎèôÏúºÎ°ú TodoÎ°ú Î∂ÑÌï¥Ìï©ÎãàÎã§
                </div>
            </div>

            <div class="modal-body">
                <!-- Project Selection -->
                <div class="form-group">
                    <label class="form-label">Project</label>
                    <div class="project-selector">
                        <div class="project-option selected" onclick="selectProject(this)">
                            <div class="project-name">My Project</div>
                            <div class="project-desc">12 missions</div>
                        </div>
                        <div class="project-option" onclick="selectProject(this)">
                            <div class="project-name">Team Project</div>
                            <div class="project-desc">8 missions</div>
                        </div>
                    </div>
                </div>

                <!-- Mission Title -->
                <div class="form-group">
                    <label class="form-label">Mission Title *</label>
                    <input
                        type="text"
                        class="form-input"
                        id="mission-title-input"
                        placeholder="Ïòà: ÏÇ¨Ïö©Ïûê Ïù∏Ï¶ù ÏãúÏä§ÌÖú Íµ¨ÌòÑ"
                    />
                    <div class="form-hint">
                        Î™ÖÌôïÌïòÍ≥† Íµ¨Ï≤¥Ï†ÅÏù∏ Î™©ÌëúÎ•º ÏûëÏÑ±ÌïòÏÑ∏Ïöî
                    </div>
                </div>

                <!-- Mission Description -->
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea
                        class="form-input form-textarea"
                        id="mission-desc-input"
                        placeholder="MissionÏóê ÎåÄÌïú ÏÉÅÏÑ∏ ÏÑ§Î™ÖÏùÑ ÏûëÏÑ±ÌïòÏÑ∏Ïöî...

ÏòàÏãú:
- JWT Í∏∞Î∞ò Ïù∏Ï¶ù ÏãúÏä§ÌÖú
- Google OAuth Ïó∞Îèô
- ÏÑ∏ÏÖò Í¥ÄÎ¶¨
- ÎπÑÎ∞ÄÎ≤àÌò∏ ÏïîÌò∏Ìôî"
                    ></textarea>
                    <div class="form-hint">
                        Markdown ÏßÄÏõê | ÏûêÏÑ∏Ìï†ÏàòÎ°ù Îçî Ï†ïÌôïÌïú TodoÍ∞Ä ÏÉùÏÑ±Îê©ÎãàÎã§
                    </div>
                </div>

                <!-- Examples -->
                <div class="example-section">
                    <div class="example-title">üí° Îπ†Î•∏ ÏãúÏûë ÏòàÏãú</div>

                    <div class="example-item" onclick="fillExample(1)">
                        <div class="example-item-title">Î°úÍ∑∏Ïù∏ Í∏∞Îä• Íµ¨ÌòÑ</div>
                        <div class="example-item-desc">JWT + Google OAuth Ïù∏Ï¶ù ÏãúÏä§ÌÖú</div>
                    </div>

                    <div class="example-item" onclick="fillExample(2)">
                        <div class="example-item-title">ÎåÄÏãúÎ≥¥Îìú UI Í∞úÏÑ†</div>
                        <div class="example-item-desc">Ï∞®Ìä∏ Ï∂îÍ∞Ä, Î∞òÏùëÌòï ÎîîÏûêÏù∏</div>
                    </div>

                    <div class="example-item" onclick="fillExample(3)">
                        <div class="example-item-title">API ÏÑ±Îä• ÏµúÏ†ÅÌôî</div>
                        <div class="example-item-desc">Ï∫êÏã±, DB ÏøºÎ¶¨ Í∞úÏÑ†, Î°úÎìú Î∞∏Îü∞Ïã±</div>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <div class="footer-hint">
                    ‚ö°Ô∏è AIÍ∞Ä 1-2Ï¥à ÏïàÏóê Todo ThreadÎ•º ÏÉùÏÑ±Ìï©ÎãàÎã§
                </div>
                <div class="footer-actions">
                    <button class="btn btn-secondary" onclick="closeCreateMission()">Cancel</button>
                    <button class="btn btn-primary" onclick="threadMission()">
                        <span>üßµ</span>
                        <span>Thread Mission</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Toggle Questions Panel
        function toggleQuestionsPanel() {
            const panel = document.querySelector('.questions-panel');
            const overlay = document.querySelector('.questions-panel-overlay');

            panel.classList.toggle('active');
            overlay.classList.toggle('active');
        }

        // Toggle Question Card Expand/Collapse
        function toggleQuestionCard(headerElement) {
            const card = headerElement.closest('.question-card');
            const body = card.querySelector('.question-body');
            const icon = card.querySelector('.expand-icon');

            const isExpanded = body.style.maxHeight && body.style.maxHeight !== '0px';

            if (isExpanded) {
                body.style.maxHeight = '0';
                icon.style.transform = 'rotate(0deg)';
            } else {
                body.style.maxHeight = body.scrollHeight + 'px';
                icon.style.transform = 'rotate(180deg)';
            }
        }

        // Select Answer in Panel
        function selectPanelAnswer(button, answer) {
            const card = button.closest('.question-card');
            const options = card.querySelectorAll('.panel-answer-option');
            const submitBtn = card.querySelector('.panel-submit-btn');

            // Reset all options
            options.forEach(opt => {
                opt.style.borderColor = 'var(--border-color)';
                opt.style.background = opt.textContent.includes('AIÍ∞Ä Í≤∞Ï†ï') ? 'var(--bg-secondary)' : 'white';
                const radioIcon = opt.querySelector('.radio-icon span');
                if (radioIcon) {
                    radioIcon.style.background = 'transparent';
                }
            });

            // Highlight selected option
            button.style.borderColor = 'var(--thread-accent)';
            button.style.background = 'rgba(236, 72, 153, 0.05)';
            const radioIcon = button.querySelector('.radio-icon span');
            if (radioIcon) {
                radioIcon.style.background = 'var(--thread-accent)';
            }

            // Enable submit button
            button.dataset.selectedAnswer = answer;
            submitBtn.disabled = false;
            submitBtn.style.opacity = '1';
            submitBtn.style.pointerEvents = 'auto';
        }

        // Submit Answer in Panel
        function submitPanelAnswer(button) {
            const card = button.closest('.question-card');
            const selectedOption = card.querySelector('.panel-answer-option[data-selected-answer]');

            if (!selectedOption) return;

            const answer = selectedOption.dataset.selectedAnswer;

            // Show success feedback
            button.textContent = '‚úì Ï†úÏ∂úÎê®';
            button.style.background = 'var(--thread-woven)';
            button.disabled = true;

            // Collapse the card after a short delay
            setTimeout(() => {
                const headerElement = card.querySelector('[onclick^="toggleQuestionCard"]');
                if (headerElement) {
                    const body = card.querySelector('.question-body');
                    const icon = card.querySelector('.expand-icon');
                    body.style.maxHeight = '0';
                    icon.style.transform = 'rotate(0deg)';
                }

                // Add a checkmark to the header
                const header = card.querySelector('[onclick^="toggleQuestionCard"] > div');
                if (header && !header.querySelector('.answered-badge')) {
                    const badge = document.createElement('div');
                    badge.className = 'answered-badge';
                    badge.style.cssText = 'display: inline-flex; align-items: center; gap: 4px; background: rgba(34, 197, 94, 0.1); color: var(--thread-woven); padding: 2px 8px; border-radius: 12px; font-size: 10px; font-weight: 600; margin-top: 4px;';
                    badge.innerHTML = '<span>‚úì</span><span>ÎãµÎ≥Ä ÏôÑÎ£å</span>';
                    header.appendChild(badge);
                }
            }, 1000);
        }

        // Ïª®ÌÖçÏä§Ìä∏ ÌÜ†Í∏Ä
        function toggleContext(button) {
            const card = button.closest('.question-body');
            const contextDiv = card.querySelector('.question-context');

            if (contextDiv.style.display === 'none') {
                contextDiv.style.display = 'block';
                button.textContent = 'üìñ ÏÉÅÏÑ∏ Ïª®ÌÖçÏä§Ìä∏ Ïà®Í∏∞Í∏∞';
            } else {
                contextDiv.style.display = 'none';
                button.textContent = 'üìñ ÏÉÅÏÑ∏ Ïª®ÌÖçÏä§Ìä∏ Î≥¥Í∏∞';
            }
        }

        // ÏßàÎ¨∏ ÌïÑÌÑ∞ÎßÅ & Ï†ïÎ†¨
        function filterQuestions(priority) {
            const cards = document.querySelectorAll('.question-card');
            cards.forEach(card => {
                if (priority === 'all' || card.dataset.priority === priority) {
                    card.style.display = '';
                } else {
                    card.style.display = 'none';
                }
            });
            showToast(`${priority === 'all' ? 'Î™®Îì† ÏßàÎ¨∏' : priority + ' Ïö∞ÏÑ†ÏàúÏúÑ ÏßàÎ¨∏'}Ïù¥ ÌëúÏãúÎê©ÎãàÎã§`);
        }

        function sortQuestions(sortBy) {
            const container = document.querySelector('.questions-panel .question-card').parentElement;
            const cards = Array.from(document.querySelectorAll('.question-card'));

            cards.sort((a, b) => {
                if (sortBy === 'priority') {
                    const priorityOrder = { urgent: 1, high: 2, medium: 3 };
                    return priorityOrder[a.dataset.priority] - priorityOrder[b.dataset.priority];
                } else if (sortBy === 'time') {
                    return parseInt(a.dataset.time) - parseInt(b.dataset.time);
                } else if (sortBy === 'mission') {
                    return a.dataset.mission.localeCompare(b.dataset.mission);
                }
            });

            cards.forEach(card => container.appendChild(card));
            const sortName = sortBy === 'priority' ? 'Ïö∞ÏÑ†ÏàúÏúÑÏàú' : sortBy === 'time' ? 'ÏãúÍ∞ÑÏàú' : 'MissionÏàú';
            showToast(`${sortName}ÏúºÎ°ú Ï†ïÎ†¨ÎêòÏóàÏäµÎãàÎã§`);
        }

        // ÏùºÍ¥Ñ ÎãµÎ≥Ä Í∏∞Îä•
        function bulkAnswerAll() {
            const cards = document.querySelectorAll('.question-card:not([style*="display: none"])');
            if (cards.length === 0) {
                showToast('ÎãµÎ≥ÄÌï† ÏßàÎ¨∏Ïù¥ ÏóÜÏäµÎãàÎã§');
                return;
            }

            const confirmed = confirm(`${cards.length}Í∞úÏùò ÏßàÎ¨∏Ïóê Î™®Îëê "AIÍ∞Ä Í≤∞Ï†ï"ÏúºÎ°ú ÎãµÎ≥ÄÌïòÏãúÍ≤†ÏäµÎãàÍπå?`);
            if (!confirmed) return;

            let answered = 0;
            cards.forEach(card => {
                const submitBtn = card.querySelector('.panel-submit-btn');
                if (submitBtn && !submitBtn.disabled) {
                    // AI Í≤∞Ï†ï ÏòµÏÖò ÏÑ†ÌÉù
                    const aiOption = Array.from(card.querySelectorAll('.panel-answer-option')).find(opt => opt.textContent.includes('AIÍ∞Ä Í≤∞Ï†ï'));
                    if (aiOption) {
                        aiOption.click();
                        setTimeout(() => submitBtn.click(), 100);
                        answered++;
                    }
                }
            });

            showToast(`${answered}Í∞úÏùò ÏßàÎ¨∏Ïóê ÏùºÍ¥Ñ ÎãµÎ≥ÄÌñàÏäµÎãàÎã§`);
        }

        // Workspace Autonomy Level ÏóÖÎç∞Ïù¥Ìä∏
        function updateWorkspaceAutonomy(value) {
            const levelNames = {
                1: 'Minimal',
                2: 'Low',
                3: 'Balanced',
                4: 'High',
                5: 'Maximum'
            };

            const levelLabel = document.querySelector('.workspace-level-label');
            const levelName = document.querySelector('.workspace-level-name');

            if (levelLabel) {
                levelLabel.textContent = `Level ${value}`;
            }
            if (levelName) {
                levelName.textContent = levelNames[value];
            }

            // ÏïåÎ¶º ÌëúÏãú
            showToast(`Workspace AI ÏûêÏú®ÏÑ±Ïù¥ Level ${value} (${levelNames[value]})Î°ú Î≥ÄÍ≤ΩÎêòÏóàÏäµÎãàÎã§`);
        }

        // Toast ÏïåÎ¶º
        function showToast(message) {
            // Í∏∞Ï°¥ toast Ï†úÍ±∞
            const existingToast = document.querySelector('.toast-notification');
            if (existingToast) {
                existingToast.remove();
            }

            // ÏÉà toast ÏÉùÏÑ±
            const toast = document.createElement('div');
            toast.className = 'toast-notification';
            toast.style.cssText = `
                position: fixed;
                bottom: 24px;
                right: 24px;
                background: var(--text-primary);
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                font-size: 13px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
                z-index: 10000;
                animation: slideIn 0.3s ease;
            `;
            toast.textContent = message;

            // Ïï†ÎãàÎ©îÏù¥ÏÖò Ï∂îÍ∞Ä
            if (!document.querySelector('#toast-style')) {
                const style = document.createElement('style');
                style.id = 'toast-style';
                style.textContent = `
                    @keyframes slideIn {
                        from {
                            transform: translateX(400px);
                            opacity: 0;
                        }
                        to {
                            transform: translateX(0);
                            opacity: 1;
                        }
                    }
                `;
                document.head.appendChild(style);
            }

            document.body.appendChild(toast);

            // 3Ï¥à ÌõÑ Ï†úÍ±∞
            setTimeout(() => {
                toast.style.animation = 'slideIn 0.3s ease reverse';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Drag and Drop Functionality
        let draggedElement = null;

        function initDragAndDrop() {
            const missionCards = document.querySelectorAll('.mission-card');
            const columns = document.querySelectorAll('.column-content');

            // Make all mission cards draggable
            missionCards.forEach(card => {
                card.setAttribute('draggable', 'true');

                card.addEventListener('dragstart', function(e) {
                    draggedElement = this;
                    this.classList.add('dragging');
                    e.dataTransfer.effectAllowed = 'move';
                    e.dataTransfer.setData('text/html', this.innerHTML);
                });

                card.addEventListener('dragend', function(e) {
                    this.classList.remove('dragging');
                    // Remove drag-over class from all columns
                    columns.forEach(col => col.classList.remove('drag-over'));
                });
            });

            // Setup drop zones (columns)
            columns.forEach(column => {
                column.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    e.dataTransfer.dropEffect = 'move';
                    this.classList.add('drag-over');
                });

                column.addEventListener('dragleave', function(e) {
                    // Only remove if leaving the column itself, not child elements
                    if (e.target === this) {
                        this.classList.remove('drag-over');
                    }
                });

                column.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('drag-over');

                    if (draggedElement) {
                        // Append the dragged card to the new column
                        this.appendChild(draggedElement);

                        // Update card styling based on new column
                        updateCardStyle(draggedElement, this);

                        draggedElement = null;
                    }
                });
            });
        }

        function updateCardStyle(card, column) {
            const columnTitle = column.closest('.board-column').querySelector('.column-title').textContent.trim();
            const statusDot = card.querySelector('.mission-status-dot');
            const progressBar = card.querySelector('.progress-bar-fill');

            // Remove all status classes
            statusDot.classList.remove('pending', 'threading', 'woven');
            card.style.borderColor = '';
            card.style.borderWidth = '';
            card.style.background = '';

            if (columnTitle.includes('Backlog')) {
                statusDot.classList.add('pending');
                if (progressBar) progressBar.classList.remove('threading', 'woven');
            } else if (columnTitle.includes('Threading')) {
                statusDot.classList.add('threading');
                card.style.borderColor = 'var(--thread-threading)';
                card.style.borderWidth = '2px';
                card.style.background = 'linear-gradient(135deg, rgba(245, 158, 11, 0.02), rgba(251, 191, 36, 0.02))';
                if (progressBar) {
                    progressBar.classList.add('threading');
                    progressBar.classList.remove('woven');
                }
            } else if (columnTitle.includes('Woven')) {
                statusDot.classList.add('woven');
                card.style.borderColor = 'var(--thread-woven)';
                card.style.borderWidth = '2px';
                card.style.background = 'linear-gradient(135deg, rgba(34, 197, 94, 0.02), rgba(74, 222, 128, 0.02))';
                if (progressBar) {
                    progressBar.classList.add('woven');
                    progressBar.classList.remove('threading');
                }
            }
        }

        // Create Mission Modal Functions
        function openCreateMission() {
            const overlay = document.querySelector('.create-mission-overlay');
            if (overlay) {
                overlay.classList.add('active');
            }
        }

        function closeCreateMission() {
            const overlay = document.querySelector('.create-mission-overlay');
            if (overlay) {
                overlay.classList.remove('active');
            }
        }

        function selectProject(option) {
            const options = document.querySelectorAll('.project-option');
            options.forEach(opt => opt.classList.remove('selected'));
            option.classList.add('selected');
        }

        function fillExample(num) {
            const examples = {
                1: {
                    title: 'Î°úÍ∑∏Ïù∏ Í∏∞Îä• Íµ¨ÌòÑ',
                    desc: `JWT Í∏∞Î∞ò Î°úÍ∑∏Ïù∏ ÏãúÏä§ÌÖú Íµ¨ÌòÑ

Ï£ºÏöî ÏöîÍµ¨ÏÇ¨Ìï≠:
- Ïù¥Î©îÏùº/ÎπÑÎ∞ÄÎ≤àÌò∏ Î°úÍ∑∏Ïù∏
- Google OAuth 2.0 Ïó∞Îèô
- JWT ÌÜ†ÌÅ∞ Î∞úÍ∏â Î∞è Í≤ÄÏ¶ù
- Refresh Token Íµ¨ÌòÑ
- ÏÑ∏ÏÖò Í¥ÄÎ¶¨
- ÎπÑÎ∞ÄÎ≤àÌò∏ ÏïîÌò∏Ìôî (bcrypt)

Í∏∞Ïà† Ïä§ÌÉù:
- Backend: Spring Security + JWT
- Frontend: React Hook Form
- OAuth: Google OAuth 2.0`
                },
                2: {
                    title: 'ÎåÄÏãúÎ≥¥Îìú UI Í∞úÏÑ†',
                    desc: `ÎåÄÏãúÎ≥¥Îìú UI/UX Í∞úÏÑ† ÏûëÏóÖ

Í∞úÏÑ† ÏÇ¨Ìï≠:
- Ïã§ÏãúÍ∞Ñ ÌÜµÍ≥Ñ Ï∞®Ìä∏ Ï∂îÍ∞Ä (Chart.js)
- Î∞òÏùëÌòï ÎîîÏûêÏù∏ (Î™®Î∞îÏùº/ÌÉúÎ∏îÎ¶ø)
- Îã§ÌÅ¨ Î™®Îìú ÏßÄÏõê
- Î°úÎî© ÏÉÅÌÉú Í∞úÏÑ†
- Ïï†ÎãàÎ©îÏù¥ÏÖò Ï∂îÍ∞Ä

Ïª¥Ìè¨ÎÑåÌä∏:
- StatsCard (ÌÜµÍ≥Ñ Ïπ¥Îìú)
- LineChart (ÎùºÏù∏ Ï∞®Ìä∏)
- BarChart (Î∞î Ï∞®Ìä∏)
- ActivityFeed (ÌôúÎèô ÌîºÎìú)`
                },
                3: {
                    title: 'API ÏÑ±Îä• ÏµúÏ†ÅÌôî',
                    desc: `Î∞±ÏóîÎìú API ÏÑ±Îä• Í∞úÏÑ†

ÏµúÏ†ÅÌôî Ìï≠Î™©:
- Redis Ï∫êÏã± Ï†ÅÏö©
- DB ÏøºÎ¶¨ ÏµúÏ†ÅÌôî (N+1 Î¨∏Ï†ú Ìï¥Í≤∞)
- Connection Pool ÌäúÎãù
- API ÏùëÎãµ ÏãúÍ∞Ñ 50% Îã®Ï∂ï
- Î°úÎìú Î∞∏Îü∞Ïã± ÏÑ§Ï†ï

Î™©Ìëú:
- ÌèâÍ∑† ÏùëÎãµ ÏãúÍ∞Ñ: 200ms ‚Üí 100ms
- ÎèôÏãú Ï†ëÏÜçÏûê: 100Î™Ö ‚Üí 500Î™Ö`
                }
            };

            const example = examples[num];
            document.getElementById('mission-title-input').value = example.title;
            document.getElementById('mission-desc-input').value = example.desc;
        }

        function threadMission() {
            const title = document.getElementById('mission-title-input').value;
            if (!title.trim()) {
                alert('Mission TitleÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            // Ïã§Ï†úÎ°úÎäî 03-thread-proposal.htmlÎ°ú Ïù¥ÎèôÌïòÍ±∞ÎÇò Îã§Î•∏ Ï≤òÎ¶¨
            alert('MissionÏù¥ ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§!\n\nTitle: ' + title);
            closeCreateMission();
        }

        // Handle modal buttons
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Drag and Drop
            initDragAndDrop();

            // Create Mission Button
            const createMissionBtn = document.querySelector('.create-mission-btn');
            if (createMissionBtn) {
                createMissionBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    openCreateMission();
                });
            }

            // Create Mission Overlay Click
            const createOverlay = document.querySelector('.create-mission-overlay');
            if (createOverlay) {
                createOverlay.addEventListener('click', function(e) {
                    if (e.target === createOverlay) {
                        closeCreateMission();
                    }
                });
            }

            // ESC key to close create mission modal
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    const createOverlay = document.querySelector('.create-mission-overlay');
                    if (createOverlay && createOverlay.classList.contains('active')) {
                        closeCreateMission();
                    }
                }
            });

        });
    </script>
</body>
</html>
